{"pageProps":{"note":{"id":"m4ow149on5nzr7y0h39r5oc","title":"Router","desc":"","updated":1663050071333,"created":1649591998294,"custom":{},"fname":"notes.topic.react.router","type":"note","vault":{"fsPath":"dependencies/localhost/learning-notes","selfContained":true,"name":"learning-notes","sync":"sync"},"contentHash":"9b66d7ab37b7819948c22e6a7d33b132","links":[{"type":"wiki","from":{"fname":"notes.topic.react.router","id":"m4ow149on5nzr7y0h39r5oc","vaultName":"learning-notes"},"value":"notes.topic.react.router","alias":"React Router v6","position":{"start":{"line":2,"column":55,"offset":55},"end":{"line":2,"column":115,"offset":115},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"notes.topic.react.router","anchorHeader":"react-router-v6"}},{"type":"wiki","from":{"fname":"notes.topic.react.router","id":"m4ow149on5nzr7y0h39r5oc","vaultName":"learning-notes"},"value":"notes.topic.react.router","alias":"useParams","position":{"start":{"line":111,"column":55,"offset":2794},"end":{"line":111,"column":103,"offset":2842},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"notes.topic.react.router","anchorHeader":"useparams"}}],"anchors":{"browser-router":{"type":"header","text":"Browser Router","value":"browser-router","line":9,"column":0,"depth":2},"router":{"type":"header","text":"Router","value":"router","line":16,"column":0,"depth":2},"switch":{"type":"header","text":"Switch","value":"switch","line":29,"column":0,"depth":2},"link":{"type":"header","text":"Link","value":"link","line":50,"column":0,"depth":2},"react-router-hooks":{"type":"header","text":"React Router Hooks","value":"react-router-hooks","line":62,"column":0,"depth":2},"useparams":{"type":"header","text":"useParams","value":"useparams","line":64,"column":0,"depth":3},"usenavigate":{"type":"header","text":"useNavigate","value":"usenavigate","line":74,"column":0,"depth":3},"uselocation":{"type":"header","text":"useLocation","value":"uselocation","line":90,"column":0,"depth":3},"react-router-v6":{"type":"header","text":"React Router v6","value":"react-router-v6","line":96,"column":0,"depth":2},"changes":{"type":"header","text":"Changes","value":"changes","line":99,"column":0,"depth":2}},"children":[],"parent":"8fp89ktw3fhi2p6bt35b5ju","data":{}},"body":"<h1 id=\"router\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#router\"></a>Router</h1>\n<p>Updtaes are done in v6 of react-router-dom: See here: <a href=\"/notes/m4ow149on5nzr7y0h39r5oc#react-router-v6\">React Router v6</a></p>\n<h2 id=\"browser-router\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#browser-router\"></a>Browser Router</h2>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">BrowserRouter</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    // components you'd like to add routing capability\n </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">BrowserRouter</span></span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<h2 id=\"router-1\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#router-1\"></a>Router</h2>\n<p>Specify the path and component to render for that path. </p>\n<p>NOTE: </p>\n<ul>\n<li>The below code will render about home and about component for path <em>/about</em>.</li>\n</ul>\n<pre class=\"language-jsx\"><code class=\"language-jsx\">    <span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Route</span> path<span class=\"token operator\">=</span> <span class=\"token string\">'/'</span> component<span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">Home</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Route</span> path<span class=\"token operator\">=</span> <span class=\"token string\">'/about'</span> component<span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">About</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Route</span> path<span class=\"token operator\">=</span> <span class=\"token string\">'/shop/:id'</span> component<span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">Shop</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token comment\">// dynamic route</span>\n</code></pre>\n<h2 id=\"switch\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#switch\"></a>Switch</h2>\n<p>Stop rendering after first match.\nNOTE:</p>\n<ul>\n<li>The below code will only render Home component for path <em>/about</em>. Since first match is<em>/</em></li>\n</ul>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    &#x3C;Route path= '/' component= </span><span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">Home</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> />\n    &#x3C;Route path= '/about' component= </span><span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">About</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> />\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<p>To overcome this, use the Route property: exact.</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    &#x3C;Route path= '/' exact component= </span><span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">Home</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> />\n    &#x3C;Route path= '/about' component= </span><span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">About</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> />\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<h2 id=\"link\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#link\"></a>Link</h2>\n<p>Adding hyperlinks to your component. Thakes only one argument 'to'</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/about<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">About</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/shop/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>item<span class=\"token punctuation\">.</span><span class=\"token property-access\">id</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> </span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span><span class=\"token property-access\">name</span><span class=\"token punctuation\">}</span><span class=\"token plain-text\"> </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span> \n</code></pre>\n<p>The Link passes props to the component that gets rendered. </p>\n<h2 id=\"react-router-hooks\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#react-router-hooks\"></a>React Router Hooks</h2>\n<h3 id=\"useparams\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#useparams\"></a>useParams</h3>\n<p>useParams(): get props passed by Link to the component.</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Link</span> to<span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/shop/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>item<span class=\"token punctuation\">.</span><span class=\"token property-access\">id</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token maybe-class-name\">View</span> <span class=\"token maybe-class-name\">Details</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token spread operator\">...</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/shop/:id<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">ItemDetails</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n...\nconst params = useParams() //can now access the param id with params.id\n</span></code></pre>\n<h3 id=\"usenavigate\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#usenavigate\"></a>useNavigate</h3>\n<ul>\n<li>Before v6, we had <redirect to=\"/\"> to redirect from a component. Now <redirect> is replaced with <navigate>. We can also use new hook useNavigate to further redirect. This also replaces the <strong>goBack</strong> method of react-router-dom. </navigate></redirect></redirect></li>\n</ul>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> navigate <span class=\"token operator\">=</span> <span class=\"token function\">useNavigate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token arrow operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token spread operator\">...</span>\n    <span class=\"token keyword control-flow\">if</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span><span class=\"token property-access\">error</span> <span class=\"token operator\">===</span> <span class=\"token string\">'404'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n</code></pre>\n<ul>\n<li>If you want to go back to the most recent page from history you can write</li>\n</ul>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=></span> <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> Go Back </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n<h3 id=\"uselocation\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#uselocation\"></a>useLocation</h3>\n<p>The new hook useLocation to get the location of route.</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token dom variable\">location</span> <span class=\"token operator\">=</span> <span class=\"token function\">useLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> pathname <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token dom variable\">location</span> <span class=\"token comment\">// path name is the route; /shop/231</span>\n</code></pre>\n<h2 id=\"react-router-v6\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#react-router-v6\"></a>React Router v6</h2>\n<p>The v6 has various backwards incomaptible changes: Here is the changelog of them</p>\n<h2 id=\"changes\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#changes\"></a>Changes</h2>\n<ul>\n<li><switch> has been removed from v6. </switch></li>\n<li>You need to wrap all your Route under <routes></routes></li>\n<li>no need to do <em>exact</em> anymore.</li>\n<li><redirect> is repaced with <navigate></navigate></redirect></li>\n<li><strong>component</strong> property of <route> is changed to <strong>element</strong>. It takes JSX as an argument.</route></li>\n</ul>\n<p>Before:</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token operator\">&#x3C;</span><span class=\"token maybe-class-name\">Route</span> path<span class=\"token operator\">=</span> <span class=\"token string\">'/'</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token maybe-class-name\">Home</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span> \n</code></pre>\n<p>New: </p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Routes</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>/<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">element</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">About</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span><span class=\"token class-name\">Routes</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> \n</span></code></pre>\n<ul>\n<li>\n<p>can access the params passed to Component only with <a href=\"/notes/m4ow149on5nzr7y0h39r5oc#useparams\">useParams</a>. The ({match}) prop is no longer valid</p>\n</li>\n<li>\n<p><strong>goBack</strong> method is no longer valid</p>\n</li>\n</ul>","noteIndex":{"id":"dlb5bmx7v8f6otsgongz4vx","title":"Root","desc":"","updated":1655025026733,"created":1648190029829,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"dependencies/localhost/learning-notes","selfContained":true,"name":"learning-notes","sync":"sync"},"contentHash":"bc178ae9d620304b10fedbadacbc746f","links":[],"anchors":{"learning":{"type":"header","text":"Learning","value":"learning","line":7,"column":0,"depth":1}},"children":["fkhev0yr0bbwd3x499erqqp","trkx8xrg7g2fm023ez4ldqj","5mg2j4msjvokz541h0tdvni","c8csxid3zoghxorepwcrami","twdastnk7qsdzm0wt64i6cz","c31i1fsmoluyjb7iffcjabg","v6w7qcvk7gmeht0j9xzdtbd","cev4vzt27wi2rjm3znxgwkl","984qz0r52n001q7yxhrh1sm"],"parent":null,"data":{},"body":"# Learning\n\nThis vault contains my study notes\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableExportPodV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"dependencies/localhost/journal","selfContained":true,"name":"journal"},{"fsPath":"dependencies/localhost/learning-notes","selfContained":true,"name":"learning-notes","sync":"sync"},{"fsPath":"dependencies/localhost/mindfire-solutions","selfContained":true,"name":"mindfire-solutions"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"duplicateNoteBehavior":{"action":"useVault","payload":["learning-notes","mindfire-solutions","journal"]},"siteUrl":"localhost:3000","siteFaviconPath":"favicon.ico","siteIndex":"root","searchMode":"lookup"}}},"__N_SSG":true}